riscv64-ucore 小组开题报告

总目标: ucore教学实验在riscv64平台的移植 

- 在riscv64平台(spike/qemu), 构建包含代码和文档的step-by-step tutorial(最低目标)

- 在riscv64真实硬件进行测试(根据实际进度选做)

- 探索支持多核硬件(根据实际进度选做)

## **相关工作介绍**

#### 基于x86的ucore实验指导书 (清华大学操作系统历届教学团队)

ucore实验指导书的结构: 以lab为组织单元, 每个lab首先给出实验目的, 实验内容, 项目组成, 然后进行原理讲解

关于代码的阅读: 提供基本代码和参考答案(无法避免抄袭所以干脆对所有人都直接给答案?), 要求编写实验报告. 代码里有很多注释帮助理解, 但还是要学生自己扎到代码里面阅读.

优点: 提供参考答案防止实现遇到困难的时候消耗时间过多? 

缺点: 需要学生自己扎到代码里面读? x86硬件比较麻烦?

#### 基于riscv64的rcore step-by-step tutorial(刘丰源, 吴一凡)

rcore step-by-step tutorial的结构: 以帮助学生自己一行行构建自己的os为目标, 按照功能模块组织章节(实际很多章节的划分类似于不同lab的划分). 每章进行原理讲解, 然后给出详细的代码解释. 学生可以跟着tutorial把代码基本读一遍.

实验题目和step-by-step tutorial相对独立, 简单交代了题目和任务, 比现在ucore的实验指导简陋.

优点: step-by-step的构造方式, 使得学生可以自己"写"(或者"抄")出一个OS, 增加成就感和对OS整体的把握

缺点: 简陋, 仓促上马, 没有丰富的challenge

#### 基于riscv32和Berkeley Bootloader的bbl-ucore(张蔚)

#### UCORE到多核RISC-V处理器的移植(石振兴)



## 实验方案

结合rcore step-by-step tutorial和ucore tutorial的优点

应当能够让学习者照着step-by-step tutorial抄一遍/粘贴一遍能得到自己的ucore, 读一遍tutorial就可以了解整个ucore的基本原理和实现细节. 难以使得文档是面面俱到的操作系统原理讲解, 但要尽量覆盖ucore实现的时候涉及的知识点.

tutorial的不同章节是增量(incremental)的关系.

类似rcore step-by-step tutorial, 提供tutorial每个阶段的参考代码

对于每一章, 写完/整理完代码才好写文档.

实验指导书是否要现在设计好?

按8个lab切分工作? 加上lab0的实验准备?是否可以将实验准备设计成一个1分的作业?

## 小组分工

## 其他问题

加强和rcore remake小组的合作?

如有精力, 是否需要简单调研一下其他学校/国外学校的操作系统lab?

和课程其他环节的整体重构?(如将ostep课后练习容纳到这个框架里?)